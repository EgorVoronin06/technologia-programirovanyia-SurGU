#include <iostream>
#include <string>
#include <cstring>
#include <locale>
#include <windows.h>

using namespace std;

// Проверка, является ли символ буквой (латиница или кириллица Windows-1251)
bool isLetter(unsigned char c) {
    if ((c >= 'A' && c <= 'Z') || (c >= 'a' && c <= 'z'))
        return true;
    if ((c >= 192 && c <= 255) || c == 168 || c == 184)
        return true;
    return false;
}

// Функция для очистки строки от пробелов, цифр и посторонних символов
void cleanString(char* str) {
    char cleaned[100] = { 0 };
    int j = 0;

    for (int i = 0; str[i] != '\0'; i++) {
        unsigned char c = (unsigned char)str[i];
        if (isLetter(c) || c == '-') {
            cleaned[j++] = str[i];
        }
    }
    cleaned[j] = '\0';
    strcpy(str, cleaned);
}

// Подсчет букв без учета дефисов
int countLetters(const char* str) {
    int count = 0;
    for (int i = 0; str[i] != '\0'; i++) {
        if (isLetter((unsigned char)str[i])) {
            count++;
        }
    }
    return count;
}

int main() {
    SetConsoleCP(1251);
    SetConsoleOutputCP(1251);
    setlocale(LC_ALL, "Russian");

    const int MAX_LENGTH = 100;
    char input[MAX_LENGTH];
    char word[MAX_LENGTH];

    cout << "введите слово: ";
    cin.getline(input, MAX_LENGTH);

    // Копируем введенные данные
    strcpy(word, input);

    // Очищаем строку от всего, кроме букв и дефисов
    cleanString(word);

    // Проверяем, осталось ли что-то после очистки
    if (strlen(word) == 0) {
        cout << "ОШИБКА: После удаления пробелов, цифр и посторонних символов слово пусто" << endl;
        return 1;
    }

    int letterCount = countLetters(word);

    cout << "Размер: " << letterCount << " символов" << endl;
    if (letterCount % 3 == 0) {
        cout << "кратно(" << letterCount << ")" << endl;
    }
    else {
        cout << "не кратно(" << letterCount << ")" << endl;
    }

    cout << "\nДополнительная информация:" << endl;
    cout << "введенная строка: " << input << endl;
    cout << "очищенное слово: " << word << endl;

    bool hasLatin = false;
    bool hasCyrillic = false;
    for (int i = 0; word[i] != '\0'; i++) {
        unsigned char c = (unsigned char)word[i];
        if ((c >= 'A' && c <= 'Z') || (c >= 'a' && c <= 'z')) {
            hasLatin = true;
        }
        else if (isLetter(c)) {
            hasCyrillic = true;
        }
    }

    if (hasLatin && hasCyrillic) {
        cout << "слово содержит латинские и русские буквы" << endl;
    }
    else if (hasLatin) {
        cout << "только латинские буквы" << endl;
    }
    else {
        cout << "только русские буквы" << endl;
    }

    return 0;
}
